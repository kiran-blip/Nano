<div class="margin-container">
  <h1>Activities</h1>

  <div style="background-color: white"><%= link_to "New Activity", new_activity_path %></div>

  <!-- filter and search section -->
  <div class="container container-search">
    <div class="search">
      <div>
        <%= form_with url: activities_path, method: :get, class: "d-flex search-form", html: {autocomplete: "off"} do %>
          <%= text_field_tag :query,
          params[:query],
          class: "form-control",
          placeholder: "Find an activity..."
          %>
          <%#= submit_tag "Search", class: "button-search" %>
          <%= button_tag(type: "submit", class: "button-search") do %>
            <i class="fa-solid fa-lg fa-magnifying-glass"></i>
          <% end %>
        <% end %>
      </div>

      <div class="overlay hidden">
      </div>

      <button class="search-form btn-open" style="background-color: #e11d5e">
          <i class="fa-solid fa-arrow-up-wide-short"></i>
          Filter
      </button>

    </div>

    <div class="overlay hidden"></div>

  </div>
</div>
<!-- /filter and search section -->

<!-- /Modal -->
<%# this is the modal container %>

<section class="modal hidden">
  <div class="x-container">
    <button class="btn-close fa-solid fa-xmark"></button>
  </div>
  <div>

    <!-- Form -->
    <div>
      <%= form_with url: activities_path, method: :get, class: "d-flex modal-form" do %>
        <%= text_field_tag :query,
                            params[:query],
                            class: "form-control",
                            placeholder: "Search" %>
        <%= text_field_tag :query,
                            params[:query],
                            class: "form-control",
                            placeholder: "Neighbourhood" %>
        <form action="/action_page.php">
          <div class="checkbox-container">
            <div class="free-checkbox">
              <input type="checkbox" id="check-box-1" name="check-box-1" value="Free">
              <label for="check-box-1"> Free </label><br>
            </div>
            <div class="no-booking-checkbox">
              <input type="checkbox" id="check-box-2" name="check-box-2" value="No-booking">
              <label for="check-box-2"> No booking required </label><br>
            </div>
          </div>
        </form>
        <%= text_field_tag :min,
                            params[:min],
                            class: "form-control",
                            placeholder: "Minimum price" %>
        <%= text_field_tag :max,
                            params[:max],
                            class: "form-control",
                            placeholder: "Maximum price" %>
        <%= submit_tag "Search", class: "btn" %>
      <% end %>
    </div>
    <!-- Form -->

  </div>
</section>

<!-- index area -->
<div class="margin-container">
  <div class="category-card-container">
    <% @activities.each do |activity| %>
      <%= link_to activity_path(activity) do %>

        <% if activity.photos.attached? %>
          <div class="card-category card-border" style="background: url('<%= cl_image_path activity.photos[0].key %>'); background-size: cover">
            <p class="centered"><%= activity.name %></p>
          </div>
        <% else %>
          <div class="card-category">
            <p class="centered"><%= activity.name %></p>
          </div>
        <% end %>
          <!--<div class="info">
            <h5> <%= activity.name %></h5>
          </div>-->

      <% end %>
    <% end %>
  </div>
</div>
<!-- /index area-->
